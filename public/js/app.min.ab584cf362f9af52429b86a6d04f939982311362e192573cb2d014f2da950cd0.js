document.addEventListener("alpine:init",()=>{Alpine.store("app",{searchOpen:!1,mobileMenuOpen:!1})}),document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("search-btn"),e=document.getElementById("search-modal"),n=document.getElementById("search-input"),s=document.getElementById("search-results"),o=document.getElementById("close-search");if(t&&e){t.addEventListener("click",()=>{e.classList.remove("hidden"),e.setAttribute("aria-hidden","false"),n?.focus(),document.body.style.overflow="hidden"});const i=()=>{e.classList.add("hidden"),e.setAttribute("aria-hidden","true"),document.body.style.overflow="",n&&(n.value=""),s&&(s.innerHTML="")};o?.addEventListener("click",i),e.addEventListener("click",t=>{t.target===e&&i()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&!e.classList.contains("hidden")&&i()}),document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),t.click())})}initPagefindSearch()});async function initPagefindSearch(){const t=document.getElementById("search-input"),e=document.getElementById("search-results");if(!t||!e)return;try{const n=await import("/pagefind/pagefind.js");await n.init();let s;t.addEventListener("input",t=>{clearTimeout(s);const o=t.target.value.trim();if(o.length<2){e.innerHTML='<p class="p-4 text-gray-500 text-center">Type at least 2 characters to search...</p>';return}s=setTimeout(async()=>{const t=await n.search(o);if(t.results.length===0){e.innerHTML='<p class="p-4 text-gray-500 text-center">No results found</p>';return}const s=await Promise.all(t.results.slice(0,8).map(async e=>{const t=await e.data();return`
              <a href="${t.url}" class="block p-4 hover:bg-gray-50 rounded-lg transition-colors">
                <h3 class="font-medium text-gray-900">${t.meta.title||"Untitled"}</h3>
                <p class="text-sm text-gray-600 mt-1 line-clamp-2">${t.excerpt}</p>
              </a>
            `}));e.innerHTML=s.join("")},200)})}catch{console.log("Pagefind not available, search disabled"),t.placeholder="Search (available in production)"}}class LiteYTEmbed extends HTMLElement{connectedCallback(){this.videoId=this.getAttribute("videoid");let e=this.querySelector(".lty-playbtn");if(e||(e=document.createElement("button"),e.type="button",e.classList.add("lty-playbtn"),this.append(e)),!e.textContent){const t=document.createElement("span");t.className="lyt-visually-hidden",t.textContent=this.getAttribute("playlabel")||"Play",e.append(t)}this.addEventListener("pointerover",LiteYTEmbed.warmConnections,{once:!0}),this.addEventListener("click",this.addIframe)}static warmConnections(){if(LiteYTEmbed.preconnected)return;LiteYTEmbed.preconnected=!0;const e=["https://www.youtube-nocookie.com","https://www.google.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];e.forEach(e=>{const t=document.createElement("link");t.rel="preconnect",t.href=e,document.head.append(t)})}addIframe(){if(this.classList.contains("lyt-activated"))return;this.classList.add("lyt-activated");const n=new URLSearchParams({autoplay:"1",playsinline:"1",rel:"0"}),e=document.createElement("iframe");e.width=560,e.height=315,e.title=this.getAttribute("playlabel")||"Video",e.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",e.allowFullscreen=!0,e.src=`https://www.youtube-nocookie.com/embed/${this.videoId}?${n.toString()}`,this.append(e);const t=this.querySelector(".lty-playbtn");t&&t.remove()}}customElements.get("lite-youtube")||customElements.define("lite-youtube",LiteYTEmbed),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if(t==="#")return;e.preventDefault();const n=document.querySelector(t);n&&n.scrollIntoView({behavior:"smooth",block:"start"})})});const observeElements=()=>{const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate-fade-in"),e.unobserve(t.target))})},{threshold:.1,rootMargin:"50px"});document.querySelectorAll(".animate-on-scroll").forEach(t=>{e.observe(t)})};"IntersectionObserver"in window&&observeElements(),window.printWorkout=()=>{window.print()},window.copyWorkout=async e=>{try{await navigator.clipboard.writeText(e),alert("Workout copied to clipboard!")}catch(e){console.error("Failed to copy:",e)}},console.log("GirlPilates loaded successfully")